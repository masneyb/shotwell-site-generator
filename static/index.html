<!DOCTYPE html>
<html lang="en">
  <!--
      SPDX-License-Identifier: AGPL-3.0-only
      Copyright (C) 2020-2025 Brian Masney <masneyb@onstation.org>
  -->

  <head>
    <meta name="viewport" content="width=device-width"/>
    <meta charset="UTF-8"/>
    <meta name="description" content="Photo gallery and search interface">
    <meta name="theme-color" content="#202124" media="(prefers-color-scheme: dark)">
    <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
    <meta http-equiv="Content-Security-Policy" content="default-src 'none'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; media-src 'self'; connect-src 'self';">
    <noscript>
      <meta http-equiv="refresh" content="0;url=static-site/index.html"/>
    </noscript>
    <title>Search</title>
    <link rel="icon" type="image/png" sizes="512x512" href="icons/app-icon-512x512.png"/>
    <link rel="icon" type="image/png" sizes="180x180" href="icons/app-icon-180x180.png"/>
    <link rel="icon" type="image/png" sizes="32x32" href="icons/app-icon-32x32.png"/>
    <link rel="icon" type="image/png" sizes="16x16" href="icons/app-icon-16x16.png"/>
    <link rel="manifest" href="manifest.json" crossorigin="use-credentials"/>
    <link rel="stylesheet" type="text/css" href="search.css"/>
  </head>

  <body>
    <header>
      <h1 id="title" class="page_title">Search</h1>
      <div class="summary_stats"></div>
      <div class="header_links hidden">
        <a class="header_link" href="#" id="today_link">Today</a>
        <a class="header_link" href="#" id="nearby_link">Nearby</a>
        <a class="header_link" href="#" id="animations_link"></a>
        <a class="header_link" href="#" id="slideshow_link">Slideshow</a>
        <a class="header_link" href="#" id="csv_link">CSV</a>
      </div>
      <div id="tag_parents" class="hidden"></div>

      <nav class="main_views" aria-label="Main navigation">
        <span>
          <a href="#" id="date_link"><span class="main_view">Date</span></a>
        </span>
        <span>
          <a href="#" id="event_link"><span id="events_link" class="main_view">Event</span></a>
        </span>
        <span>
          <a href="#" id="year_link"><span id="years_link" class="main_view">Year</span></a>
        </span>
        <span>
          <a href="#" id="tag_link"><span id="tags_link" class="main_view">Tag</span></a>
        </span>
        <span id="extra_header"></span>
      </nav>
    </header>

    <span id="search_criterias" class="hidden"></span>

    <span id="search_controls" class="hidden">
      <input type="button" id="add_search_row" value="+" aria-label="Add search row">
      <select id="match">
        <option value="any">Match Any</option>
        <option value="all">Match All</option>
        <option value="none">Match None</option>
      </select>
      <select id="group">
        <option value="none">No grouping</option>
        <option value="day">Group by day</option>
        <option value="month">Group by month</option>
        <option value="year">Group by year</option>
        <option value="camera">Group by camera</option>
        <option value="gps1km">Group by GPS 1 km</option>
        <option value="gps5km">Group by GPS 5 km</option>
        <option value="gps10km">Group by GPS 10 km</option>
        <option value="gps50km">Group by GPS 50 km</option>
        <option value="gps100km">Group by GPS 100 km</option>
      </select>
      <select id="sort">
        <option value="default">Default Sort</option>
        <option value="takenZA">Sort taken Z-A</option>
        <option value="takenAZ">Sort taken A-Z</option>
        <option value="createdZA">Sort added Z-A</option>
        <option value="createdAZ">Sort added A-Z</option>
        <option value="random">Sort random</option>
      </select>
      <select id="icons">
        <option value="default">Default Icons</option>
        <option value="small">Small Icons</option>
        <option value="medium">Medium Icons</option>
        <option value="small_medium">Small/Medium Icons</option>
        <option value="small_medium_large">Small/Medium/Large Icons</option>
        <option value="medium_large">Medium/Large Icons</option>
        <option value="large">Large Icons</option>
        <option value="large_full_meta">Large Icons (Full Metadata)</option>
        <option value="large_no_meta">Large Icons (No Metadata)</option>
        <option value="regular">Regular Icons</option>
        <option value="regular_full_meta">Regular Icons (Full Metadata)</option>
        <option value="regular_no_meta">Regular Icons (No Metadata)</option>
        <option value="large_regular">Large/Regular Icons</option>
      </select>
      <input class="button" type="button" id="clear_search_criteria" value="Clear">
    </span>

    <main id="all_media"><div class='status'>Loading</div></main>

    <footer class="generated_at">Site generated from
      <a href="https://wiki.gnome.org/Apps/Shotwell">Shotwell</a> library
      <span id="generated_timestamp"></span> by
      <a href="https://github.com/masneyb/shotwell-site-generator">shotwell-site-generator</a>
      <span id="app_version"></span>.
    </footer>

    <div id="fullimage_background" class="hidden"></div>
    <div id="fullimage_container" class="hidden" role="dialog" aria-modal="true" aria-label="Full screen media viewer">
      <span id="slideshow_controls">
        <a href="#" id="metadata">
          <img id="metadata_icon" alt="Metadata" src="icons/list-web-icon.png"/>
        </a>
        <a href="#" id="play">
          <img id="play_pause_icon" alt="Play" src="icons/play-web-icon.png"/>
        </a>
        <a href="#" id="fullscreen">
          <img alt="Fullscreen" src="icons/fullscreen-web-icon.png"/>
        </a>
        <select id="slideshow_videos">
          <option value="480p">480p</option>
          <option value="720p">720p</option>
          <option value="1080p">1080p</option>
          <option value="full">Full</option>
        </select>
        <a href="#" id="close">
          <img alt="Close" src="icons/close-web-icon.png"/>
        </a>
      </span>
      <div id="fullmedia_container">
        <img id="fullimage">
        <video id="fullvideo" width="100%" height="100%" autoplay loop controls></video>
      </div>
      <div id="description"></div>
    </div>

    <template id="search_criteria_row">
      <span class="search_criteria">
        <select class="search_field"></select>
        <select class="search_op"></select>
        <span class="search_values"></span>
        <input class="search_delete_row" type="button" value="X" aria-label="Delete search row">
      </span>
    </template>

    <script type="text/javascript" src="search.min.js"></script>
    <script type="text/javascript" src="media.js" defer="defer" onerror="updateOverallStatusMessage('Error loading media');"></script>
  </body>
</html>
